<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>SAMB'A VOYAGE | Connexion Admin</title>
  <style>
    :root { --samba-blue: #0070bb; --samba-green: #39b54a; --samba-dark: #0f172a; }
    
    body { 
      font-family: 'Segoe UI', sans-serif; 
      margin: 0; height: 100vh; display: flex; 
      justify-content: center; align-items: center; 
      background: linear-gradient(135deg, var(--samba-dark) 0%, #1e293b 100%);
    }

    .login-card {
      background: white; padding: 40px; border-radius: 16px;
      box-shadow: 0 10px 25px rgba(0,0,0,0.3); width: 350px; text-align: center;
    }

    h2 { color: var(--samba-dark); margin-bottom: 5px; }
    p { color: #64748b; font-size: 14px; margin-bottom: 25px; }

    input {
      width: 100%; padding: 12px; margin-bottom: 15px;
      border: 1px solid #e2e8f0; border-radius: 8px; box-sizing: border-box;
      outline: none; transition: 0.3s;
    }

    input:focus { border-color: var(--samba-blue); box-shadow: 0 0 0 3px rgba(0, 112, 187, 0.1); }

    .btn-login {
      width: 100%; padding: 12px; background: var(--samba-blue);
      color: white; border: none; border-radius: 8px;
      font-weight: bold; cursor: pointer; font-size: 16px; transition: 0.3s;
    }

    .btn-login:hover { background: #005a96; transform: translateY(-1px); }

    .error-msg { color: #ef4444; font-size: 13px; margin-bottom: 15px; display: none; }

    .create-link { margin-top: 15px; display: block; color: var(--samba-blue); font-size: 13px; cursor: pointer; text-decoration: none; }

    /* Modal Style */
    .modal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.6); justify-content: center; align-items: center; }
    .modal-content { background: white; padding: 30px; border-radius: 12px; width: 300px; text-align: center; }
  </style>
</head>
<body>

  <div class="login-card">
    <div class="logo-space">
        <img src="Logo Samba.jpeg" width="120" onerror="this.alt='SAMBA LOGO'">
    </div>
    <h2>Portail Admin</h2>
    <p>Accès personnel Samba</p>

    <div id="error" class="error-msg">Identifiants incorrects !</div>

    <input type="text" id="user" placeholder="Nom d'utilisateur">
    <input type="password" id="pass" placeholder="Mot de passe">
    
    <button class="btn-login" onclick="connexion()">Se connecter</button>

    <a class="create-link" onclick="toggleModal(true)">Créer un nouveau compte admin</a>

    <div style="margin-top: 20px; font-size: 11px; color: #94a3b8;">
        &copy; 2026 Samba Assurances
    </div>
  </div>

  <div id="createModal" class="modal">
    <div class="modal-content">
        <h3>Nouvel Admin</h3>
        <input type="text" id="new-user" placeholder="Choisir utilisateur">
        <input type="password" id="new-pass" placeholder="Choisir mot de passe">
        <button class="btn-login" style="background: var(--samba-green);" onclick="creerCompte()">Enregistrer</button>
        <button class="create-link" style="border:none; background:none; margin:10px auto;" onclick="toggleModal(false)">Annuler</button>
    </div>
  </div>

  <script>
    // Stockage local pour simuler une base de données
    let admins = JSON.parse(localStorage.getItem('samba_admins')) || [{u: "admin", p: "samba2026"}];

    function connexion() {
        const user = document.getElementById('user').value;
        const pass = document.getElementById('pass').value;
        const error = document.getElementById('error');

        // Vérification dans la liste des admins
        const found = admins.find(a => a.u === user && a.p === pass);

        if(found) {
            window.location.href = "Dashboard-Samba.html"; 
        } else {
            error.style.display = "block";
            document.querySelector('.login-card').animate([
                { transform: 'translateX(-10px)' }, { transform: 'translateX(10px)' }, { transform: 'translateX(0px)' }
            ], { duration: 300 });
        }
    }

    function toggleModal(show) {
        document.getElementById('createModal').style.display = show ? 'flex' : 'none';
    }

    function creerCompte() {
        const u = document.getElementById('new-user').value;
        const p = document.getElementById('new-pass').value;

        if(u && p) {
            admins.push({u: u, p: p});
            localStorage.setItem('samba_admins', JSON.stringify(admins));
            alert("Compte créé avec succès pour " + u);
            toggleModal(false);
        } else {
            alert("Veuillez remplir les champs");
        }
    }

    document.addEventListener('keypress', (e) => { if (e.key === 'Enter') connexion(); });
  </script>

</body>
</html>